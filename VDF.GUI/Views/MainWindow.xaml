<Window
    x:Class="VDF.GUI.Views.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Settings="clr-namespace:VDF.GUI.Data;assembly=VDF.GUI"
    xmlns:controls="clr-namespace:Avalonia.Controls;assembly=Avalonia.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:datagrid="clr-namespace:Avalonia.Controls;assembly=Avalonia.Controls.DataGrid"
    xmlns:i="clr-namespace:Avalonia.Xaml.Interactivity;assembly=Avalonia.Xaml.Interactivity"
    xmlns:ia="clr-namespace:Avalonia.Xaml.Interactions.Core;assembly=Avalonia.Xaml.Interactions"
    xmlns:local="clr-namespace:VDF.GUI;assembly=VDF.GUI"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:media="clr-namespace:Avalonia.Media;assembly=Avalonia.Base"
    xmlns:mvvm="clr-namespace:VDF.GUI.Mvvm;assembly=VDF.GUI"
    xmlns:presenters="clr-namespace:Avalonia.Controls.Presenters;assembly=Avalonia.Controls"
    xmlns:vm="clr-namespace:VDF.GUI.ViewModels;assembly=VDF.GUI"
    x:Name="MainWindow"
    Title="Video Duplicate Finder 3.0 - Cross-platform"
    Width="1020"
    Height="950"
    d:DesignHeight="750"
    d:DesignWidth="900"
    ExtendClientAreaToDecorationsHint="True"
    FontSize="14"
    Icon="/Assets/icon.ico"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">
    <Window.Resources>
        <mvvm:IsBestConverter x:Key="IsBestConverter" />
        <mvvm:ExtraShortDateTimeConverter x:Key="ExtraShortDateTimeConverter" />
    </Window.Resources>
    <Grid>
        <controls:ExperimentalAcrylicBorder
            x:Name="ExperimentalAcrylicBorderBackgroundWhite"
            IsHitTestVisible="False"
            IsVisible="False">
            <controls:ExperimentalAcrylicBorder.Material>
                <media:ExperimentalAcrylicMaterial BackgroundSource="Digger" TintColor="White" />
            </controls:ExperimentalAcrylicBorder.Material>
        </controls:ExperimentalAcrylicBorder>
        <controls:ExperimentalAcrylicBorder
            x:Name="ExperimentalAcrylicBorderBackgroundBlack"
            IsHitTestVisible="False"
            IsVisible="False">
            <controls:ExperimentalAcrylicBorder.Material>
                <media:ExperimentalAcrylicMaterial BackgroundSource="Digger" TintColor="Black" />
            </controls:ExperimentalAcrylicBorder.Material>
        </controls:ExperimentalAcrylicBorder>
        <TextBlock
            Margin="10,4,0,0"
            IsHitTestVisible="false"
            HorizontalAlignment="Center"
            Text="{Binding #MainWindow.Title}" />
        <Grid Margin="2,30,2,2">
            <TabControl x:Name="TabControl">
                <TabItem Name="TabItemScanner">
                    <TabItem.Header>
                        <TextBlock
                            VerticalAlignment="Center"
                            FontSize="12"
                            Text="Scanner" />
                    </TabItem.Header>
                    <Grid
                        Margin="0,0,0,10"
                        Background="{DynamicResource SystemControlBackgroundChromeBlackLowBrush}"
                        RowDefinitions="Auto, *, Auto, Auto">
                        <Menu Grid.Row="0" MinHeight="30">
                            <MenuItem
                                Command="{Binding StartScanCommand}"
                                CommandParameter="FullScan"
                                IsVisible="{Binding !IsScanning}">
                                <MenuItem.Header>
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox Width="20" Height="20">
                                            <Canvas Width="24" Height="24">
                                                <Path Data="M8,5.14V19.14L19,12.14L8,5.14Z" Fill="Green" />
                                            </Canvas>
                                        </Viewbox>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Scan" />
                                    </StackPanel>
                                </MenuItem.Header>
                            </MenuItem>
                            <MenuItem
                                Command="{Binding StartScanCommand}"
                                CommandParameter="CompareOnly"
                                IsEnabled="{Binding IsReadyToCompare}"
                                IsVisible="{Binding !IsScanning}">
                                <MenuItem.Header>
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox Width="20" Height="20">
                                            <Canvas Width="24" Height="24">
                                                <Path Data="m19.3809,4.64738l-1.69658,1.69658c-3.12529,-3.12529 -8.21505,-3.12529 -11.34034,0c-3.12529,3.12529 -3.12529,8.21505 0,11.34034c1.518,1.60729 3.57176,2.41094 5.62553,2.41094s4.10753,-0.80365 5.71483,-2.32165c0.71435,-0.71435 0.71435,-1.78588 0,-2.50024s-1.78588,-0.71435 -2.50024,0c-1.69658,1.78588 -4.554,1.69658 -6.33988,0c-0.89294,-0.89294 -1.33941,-2.05376 -1.33941,-3.21459s0.44647,-2.32165 1.33941,-3.12529c1.69658,-1.78588 4.554,-1.78588 6.33988,0l-1.60729,1.60729c-0.53577,0.53577 -0.17859,1.518 0.62505,1.518l5.80411,0c0.53577,0 0.89294,-0.35717 0.89294,-0.89294l0,-5.89341c0,-0.80365 -0.98224,-1.16083 -1.518,-0.62505l-0.00001,0.00001l0.00001,-0.00001z" Fill="Orange" />
                                            </Canvas>
                                        </Viewbox>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Rescan" />
                                    </StackPanel>
                                </MenuItem.Header>
                            </MenuItem>
                            <MenuItem Command="{Binding ResumeScanCommand}" IsVisible="{Binding IsScanning}">
                                <MenuItem.Header>
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox Width="16" Height="16">
                                            <Canvas Width="24" Height="24">
                                                <Path Data="M8,5.14V19.14L19,12.14L8,5.14Z" Fill="Green" />
                                            </Canvas>
                                        </Viewbox>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Resume" />
                                    </StackPanel>
                                </MenuItem.Header>
                            </MenuItem>

                            <MenuItem Command="{Binding PauseScanCommand}" IsVisible="{Binding IsScanning}">
                                <MenuItem.Header>
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox Width="16" Height="16">
                                            <Canvas Width="24" Height="24">
                                                <Path Data="M14,19H18V5H14M6,19H10V5H6V19Z" Fill="Blue" />
                                            </Canvas>
                                        </Viewbox>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Pause" />
                                    </StackPanel>
                                </MenuItem.Header>
                            </MenuItem>
                            <MenuItem Command="{Binding StopScanCommand}" IsVisible="{Binding IsScanning}">
                                <MenuItem.Header>
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox Width="16" Height="16">
                                            <Canvas Width="24" Height="24">
                                                <Path Data="M18,18H6V6H18V18Z" Fill="Red" />
                                            </Canvas>
                                        </Viewbox>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Stop" />
                                    </StackPanel>
                                </MenuItem.Header>
                            </MenuItem>
                            <MenuItem IsVisible="{Binding !IsScanning}">
                                <MenuItem.Header>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Database" />
                                        <Path
                                            Margin="4,2,0,0"
                                            VerticalAlignment="Center"
                                            Data="M 0 0 L 6 6 L 12 0 Z"
                                            Fill="{DynamicResource SystemBaseHighColor}" />
                                    </StackPanel>
                                </MenuItem.Header>
                                <MenuItem Command="{Binding CleanDatabaseCommand}" ToolTip.Tip="Removes entries which file no longer exists or which failed on ffmpeg/ffprobe">
                                    <MenuItem.Header>
                                        <StackPanel Orientation="Horizontal">
                                            <Viewbox Width="16" Height="16">
                                                <Canvas Width="24" Height="24">
                                                    <Path Data="M19.36,2.72L20.78,4.14L15.06,9.85C16.13,11.39 16.28,13.24 15.38,14.44L9.06,8.12C10.26,7.22 12.11,7.37 13.65,8.44L19.36,2.72M5.93,17.57C3.92,15.56 2.69,13.16 2.35,10.92L7.23,8.83L14.67,16.27L12.58,21.15C10.34,20.81 7.94,19.58 5.93,17.57Z" Fill="{DynamicResource SystemBaseHighColor}" />
                                                </Canvas>
                                            </Viewbox>
                                            <TextBlock
                                                Margin="5,0,0,0"
                                                VerticalAlignment="Center"
                                                Text="Cleanup Database" />
                                        </StackPanel>
                                    </MenuItem.Header>
                                </MenuItem>
                                <MenuItem Command="{Binding EditDataBaseCommand}">
                                    <MenuItem.Header>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Edit..." />
                                    </MenuItem.Header>
                                </MenuItem>
                                <Separator />
                                <MenuItem Command="{Binding ExportDataBaseToJsonCommand}">
                                    <MenuItem.Header>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Export To Json" />
                                    </MenuItem.Header>
                                </MenuItem>
                                <MenuItem Command="{Binding ExportDataBaseToJsonPrettyCommand}">
                                    <MenuItem.Header>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Export To Json (pretty)" />
                                    </MenuItem.Header>
                                </MenuItem>
                                <Separator />
                                <MenuItem Command="{Binding ImportDataBaseFromJsonCommand}">
                                    <MenuItem.Header>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Import From Json" />
                                    </MenuItem.Header>
                                </MenuItem>
                                <Separator />
                                <MenuItem Command="{Binding ClearDatabaseCommand}">
                                    <MenuItem.Header>
                                        <StackPanel Orientation="Horizontal">
                                            <Viewbox Width="16" Height="16">
                                                <Canvas Width="24" Height="24">
                                                    <Path Data="M20 6.91L17.09 4L12 9.09L6.91 4L4 6.91L9.09 12L4 17.09L6.91 20L12 14.91L17.09 20L20 17.09L14.91 12L20 6.91Z" Fill="Red" />
                                                </Canvas>
                                            </Viewbox>
                                            <TextBlock
                                                Margin="5,0,0,0"
                                                VerticalAlignment="Center"
                                                Text="Clear Database" />
                                        </StackPanel>
                                    </MenuItem.Header>
                                </MenuItem>
                            </MenuItem>
                            <MenuItem Command="{Binding LatestReleaseCommand}">
                                <MenuItem.Header>
                                    <TextBlock
                                        Margin="5,0,0,0"
                                        VerticalAlignment="Center"
                                        Text="Latest Release" />
                                </MenuItem.Header>
                            </MenuItem>
                            <MenuItem Command="{Binding OpenOwnFolderCommand}" IsVisible="{Binding IsDebug}">
                                <MenuItem.Header>
                                    <TextBlock
                                        Margin="5,0,0,0"
                                        VerticalAlignment="Center"
                                        Text="Open Folder" />
                                </MenuItem.Header>
                            </MenuItem>
                            <MenuItem IsVisible="{Binding !!Duplicates.Count}">
                                <MenuItem.Header>
                                    <StackPanel Orientation="Horizontal">
                                        <Path
                                            Margin="0,0,4,0"
                                            VerticalAlignment="Center"
                                            Data="M14,9.00421 C14.5523,9.00421 15,9.45192 15,10.00418 L15,13.00418 C15,14.10878 14.1046,15.00418 13,15.00418 L3,15.00418 C1.89543,15.00418 1,14.10878 1,13.00418 L1,10.00418 C1,9.45192 1.44772,9.00421 2,9.00421 C2.55228,9.00421 3,9.45192 3,10.00418 L3,13.00418 L13,13.00418 L13,10.00418 C13,9.45192 13.4477,9.00421 14,9.00421 Z M8,1.59 L11.7071,5.2971 C12.0976,5.68763 12.0976,6.32079 11.7071,6.71132 C11.3166,7.10184 10.6834,7.10184 10.2929,6.71132 L9,5.41842 L9,10.00418 C9,10.55648 8.55228,11.00418 8,11.00418 C7.44772,11.00418 7,10.55648 7,10.00418 L7,5.41842 L5.70711,6.71132 C5.31658,7.10184 4.68342,7.10184 4.29289,6.71132 C3.90237,6.32079 3.90237,5.68763 4.29289,5.2971 L8,1.59 Z"
                                            Fill="{DynamicResource SystemBaseHighColor}" />
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Export Scan Results" />
                                        <Path
                                            Margin="4,2,0,0"
                                            VerticalAlignment="Center"
                                            Data="M 0 0 L 6 6 L 12 0 Z"
                                            Fill="{DynamicResource SystemBaseHighColor}" />
                                    </StackPanel>
                                </MenuItem.Header>
                                <MenuItem Command="{Binding ExportScanResultsCommand}">
                                    <MenuItem.Header>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="To Json" />
                                    </MenuItem.Header>
                                </MenuItem>
                                <MenuItem Command="{Binding ExportScanResultsPrettyCommand}">
                                    <MenuItem.Header>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="To Json (pretty)" />
                                    </MenuItem.Header>
                                </MenuItem>
                                <Separator />
                                <MenuItem Command="{Binding ExportScanResultsToFileCommand}">
                                    <MenuItem.Header>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="To File including thumbnails" />
                                    </MenuItem.Header>
                                </MenuItem>
                            </MenuItem>
                            <MenuItem IsVisible="{Binding !!Duplicates.Count}">
                                <MenuItem.Header>
                                    <StackPanel Orientation="Horizontal">
                                        <Path
                                            Margin="0,0,4,0"
                                            VerticalAlignment="Center"
                                            Data="M14,9 C14.5523,9 15,9.44772 15,10 L15,13 C15,14.1046 14.1046,15 13,15 L3,15 C1.89543,15 1,14.1046 1,13 L1,10 C1,9.44772 1.44772,9 2,9 C2.55228,9 3,9.44771 3,10 L3,13 L13,13 L13,10 C13,9.44771 13.4477,9 14,9 Z M8,1 C8.55228,1 9,1.44772 9,2 L9,6.58579 L10.2929,5.29289 C10.6834,4.90237 11.3166,4.90237 11.7071,5.29289 C12.0976,5.68342 12.0976,6.31658 11.7071,6.70711 L8,10.4142 L4.29289,6.70711 C3.90237,6.31658 3.90237,5.68342 4.29289,5.29289 C4.68342,4.90237 5.31658,4.90237 5.70711,5.29289 L7,6.58579 L7,2 C7,1.44772 7.44772,1 8,1 Z"
                                            Fill="{DynamicResource SystemBaseHighColor}" />
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Import Scan Results" />
                                        <Path
                                            Margin="4,2,0,0"
                                            VerticalAlignment="Center"
                                            Data="M 0 0 L 6 6 L 12 0 Z"
                                            Fill="{DynamicResource SystemBaseHighColor}" />
                                    </StackPanel>
                                </MenuItem.Header>
                                <MenuItem Command="{Binding ImportScanResultsFromFileCommand}">
                                    <MenuItem.Header>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="From File including thumbnails" />
                                    </MenuItem.Header>
                                </MenuItem>
                            </MenuItem>
                        </Menu>
                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Menu Grid.Row="0" MinHeight="30">
                                <Menu.Styles>
                                    <Style Selector="Separator">
                                        <Setter Property="Margin" Value="0,5,0,5" />
                                        <Setter Property="Width" Value="1" />
                                    </Style>
                                </Menu.Styles>
                                <MenuItem>
                                    <MenuItem.Header>
                                        <StackPanel Orientation="Horizontal">
                                            <Viewbox Width="16" Height="16">
                                                <Canvas Width="24" Height="24">
                                                    <Path Data="M2,4C2,2.89 2.9,2 4,2H7V4H4V7H2V4M22,4V7H20V4H17V2H20A2,2 0 0,1 22,4M20,20V17H22V20C22,21.11 21.1,22 20,22H17V20H20M2,20V17H4V20H7V22H4A2,2 0 0,1 2,20M10,2H14V4H10V2M10,20H14V22H10V20M20,10H22V14H20V10M2,10H4V14H2V10Z" Fill="{DynamicResource SystemBaseHighColor}" />
                                                </Canvas>
                                            </Viewbox>
                                            <TextBlock
                                                Margin="5,0,0,0"
                                                VerticalAlignment="Center"
                                                Text="Selection" />
                                            <Path
                                                Margin="4,2,0,0"
                                                VerticalAlignment="Center"
                                                Data="M 0 0 L 6 6 L 12 0 Z"
                                                Fill="{DynamicResource SystemBaseHighColor}" />
                                        </StackPanel>
                                    </MenuItem.Header>
                                    <MenuItem Command="{Binding CheckWhenIdenticalCommand}">
                                        <MenuItem.Header>
                                            <TextBlock VerticalAlignment="Center" Text="Select 100% Identical (Keep First)" />
                                        </MenuItem.Header>
                                    </MenuItem>
                                    <MenuItem Command="{Binding CheckWhenIdenticalButSizeCommand}">
                                        <MenuItem.Header>
                                            <TextBlock VerticalAlignment="Center" Text="Select 100% Identical Except Size (Keep Smallest)" />
                                        </MenuItem.Header>
                                    </MenuItem>
                                    <MenuItem Command="{Binding CheckLowestQualityCommand}">
                                        <MenuItem.Header>
                                            <TextBlock
                                                VerticalAlignment="Center"
                                                Text="Select Lowest Duration / Quality"
                                                ToolTip.Tip="Keep longest / Best Quality" />
                                        </MenuItem.Header>
                                    </MenuItem>
                                    <MenuItem Header="Date">
                                        <MenuItem Command="{Binding CheckOldestCommand}">
                                            <MenuItem.Header>
                                                <TextBlock VerticalAlignment="Center" Text="Select Oldest" />
                                            </MenuItem.Header>
                                        </MenuItem>
                                        <MenuItem Command="{Binding CheckNewestCommand}">
                                            <MenuItem.Header>
                                                <TextBlock VerticalAlignment="Center" Text="Select Newest" />
                                            </MenuItem.Header>
                                        </MenuItem>
                                    </MenuItem>
                                    <MenuItem Command="{Binding CheckCustomCommand}">
                                        <MenuItem.Header>
                                            <TextBlock VerticalAlignment="Center" Text="Select Custom..." />
                                        </MenuItem.Header>
                                    </MenuItem>
                                    <MenuItem Command="{Binding ClearSelectionCommand}">
                                        <MenuItem.Header>
                                            <TextBlock VerticalAlignment="Center" Text="Clear Selection" />
                                        </MenuItem.Header>
                                    </MenuItem>
                                </MenuItem>
                                <MenuItem>
                                    <MenuItem.Header>
                                        <StackPanel Orientation="Horizontal">
                                            <Viewbox Width="16" Height="16">
                                                <Canvas Width="24" Height="24">
                                                    <Path Data="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" Fill="Red" />
                                                </Canvas>
                                            </Viewbox>
                                            <TextBlock
                                                Margin="5,0,0,0"
                                                VerticalAlignment="Center"
                                                Text="Delete Selection" />
                                            <Path
                                                Margin="4,2,0,0"
                                                VerticalAlignment="Center"
                                                Data="M 0 0 L 6 6 L 12 0 Z"
                                                Fill="{DynamicResource SystemBaseHighColor}" />
                                        </StackPanel>
                                    </MenuItem.Header>
                                    <MenuItem Command="{Binding DeleteSelectionCommand}">
                                        <MenuItem.Header>
                                            <TextBlock VerticalAlignment="Center" Text="Delete permanently (Shift+Delete)" />
                                        </MenuItem.Header>
                                    </MenuItem>
                                    <MenuItem Header="-" />

                                    <MenuItem Command="{Binding RemoveSelectionFromListCommand}">
                                        <MenuItem.Header>
                                            <TextBlock VerticalAlignment="Center" Text="From List (Keep Files)" />
                                        </MenuItem.Header>
                                    </MenuItem>
                                    <MenuItem Command="{Binding CopySelectionCommand}">
                                        <MenuItem.Header>
                                            <TextBlock VerticalAlignment="Center" Text="Copy To Folder (Keep Files)" />
                                        </MenuItem.Header>
                                    </MenuItem>
                                    <MenuItem Command="{Binding MoveSelectionCommand}">
                                        <MenuItem.Header>
                                            <TextBlock VerticalAlignment="Center" Text="Move To Folder" />
                                        </MenuItem.Header>
                                    </MenuItem>
                                </MenuItem>
                                <MenuItem Header="|" />
                                <CheckBox Margin="5,0,0,0" IsChecked="{Binding ElementName=GridFilter, Path=IsVisible}">
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox
                                            Width="16"
                                            Height="16"
                                            Focusable="False">
                                            <Canvas
                                                Width="24"
                                                Height="24"
                                                Focusable="False">
                                                <Path
                                                    Data="M10,13V11H18V13H10M10,19V17H14V19H10M10,7V5H22V7H10M6,17H8.5L5,20.5L1.5,17H4V7H1.5L5,3.5L8.5,7H6V17Z"
                                                    Fill="{DynamicResource SystemBaseHighColor}"
                                                    Focusable="False" />
                                            </Canvas>
                                        </Viewbox>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Filter / Sort" />
                                    </StackPanel>
                                </CheckBox>

                                <StackPanel Orientation="Horizontal">
                                    <TextBlock
                                        Margin="5,0,0,0"
                                        VerticalAlignment="Center"
                                        IsEnabled="False"
                                        Text="Zoom All:" />
                                    <Slider
                                        x:Name="ZoomSlider"
                                        MinWidth="100"
                                        Margin="5,0,0,0"
                                        Padding="0"
                                        VerticalAlignment="Center"
                                        IsSnapToTickEnabled="True"
                                        LargeChange="0.5"
                                        Maximum="4.0"
                                        Minimum="0.5"
                                        Orientation="Horizontal"
                                        SmallChange="0.1"
                                        TickFrequency="0.5"
                                        Value="1.0">
                                        <Slider.Styles>
                                            <Style Selector="Slider:horizontal">
                                                <Setter Property="Background" Value="{DynamicResource SliderTrackFill}" />
                                                <Setter Property="BorderThickness" Value="{DynamicResource SliderBorderThemeThickness}" />
                                                <Setter Property="Foreground" Value="{DynamicResource SliderTrackValueFill}" />
                                                <Setter Property="FontSize" Value="{DynamicResource ControlContentThemeFontSize}" />
                                                <Setter Property="Template">
                                                    <ControlTemplate>
                                                        <DataValidationErrors>
                                                            <Border
                                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                                CornerRadius="{TemplateBinding CornerRadius}">
                                                                <Grid
                                                                    x:Name="SliderContainer"
                                                                    Margin="{TemplateBinding Padding}"
                                                                    Background="{DynamicResource SliderContainerBackground}">
                                                                    <Grid
                                                                        x:Name="HorizontalTemplate"
                                                                        MinHeight="{DynamicResource SliderHorizontalHeight}"
                                                                        ColumnDefinitions="Auto,Auto,*">
                                                                        <Track
                                                                            Name="PART_Track"
                                                                            Grid.ColumnSpan="3"
                                                                            IsDirectionReversed="{TemplateBinding IsDirectionReversed}"
                                                                            Maximum="{TemplateBinding Maximum}"
                                                                            Minimum="{TemplateBinding Minimum}"
                                                                            Orientation="Horizontal"
                                                                            Value="{TemplateBinding Value,
                                                                                                    Mode=TwoWay}">
                                                                            <Track.DecreaseButton>
                                                                                <RepeatButton
                                                                                    Name="PART_DecreaseButton"
                                                                                    HorizontalAlignment="Stretch"
                                                                                    VerticalAlignment="Stretch"
                                                                                    Background="{TemplateBinding Foreground}"
                                                                                    Focusable="False">
                                                                                    <RepeatButton.Template>
                                                                                        <ControlTemplate>
                                                                                            <Grid>
                                                                                                <Border
                                                                                                    Name="FocusTarget"
                                                                                                    Margin="0,-10"
                                                                                                    Background="Transparent" />
                                                                                                <Border
                                                                                                    Name="TrackBackground"
                                                                                                    Height="{DynamicResource SliderTrackThemeHeight}"
                                                                                                    VerticalAlignment="Center"
                                                                                                    Background="{TemplateBinding Background}"
                                                                                                    CornerRadius="{DynamicResource ControlCornerRadius}" />
                                                                                            </Grid>
                                                                                        </ControlTemplate>
                                                                                    </RepeatButton.Template>
                                                                                </RepeatButton>
                                                                            </Track.DecreaseButton>
                                                                            <Track.IncreaseButton>
                                                                                <RepeatButton
                                                                                    Name="PART_IncreaseButton"
                                                                                    HorizontalAlignment="Stretch"
                                                                                    VerticalAlignment="Stretch"
                                                                                    Background="{TemplateBinding Background}"
                                                                                    Focusable="False">
                                                                                    <RepeatButton.Template>
                                                                                        <ControlTemplate>
                                                                                            <Grid>
                                                                                                <Border
                                                                                                    Name="FocusTarget"
                                                                                                    Margin="0,-10"
                                                                                                    Background="Transparent" />
                                                                                                <Border
                                                                                                    Name="TrackBackground"
                                                                                                    Height="{DynamicResource SliderTrackThemeHeight}"
                                                                                                    VerticalAlignment="Center"
                                                                                                    Background="{TemplateBinding Background}"
                                                                                                    CornerRadius="{DynamicResource ControlCornerRadius}" />
                                                                                            </Grid>
                                                                                        </ControlTemplate>
                                                                                    </RepeatButton.Template>
                                                                                </RepeatButton>
                                                                            </Track.IncreaseButton>
                                                                            <Thumb
                                                                                Name="thumb"
                                                                                Width="{DynamicResource SliderHorizontalThumbWidth}"
                                                                                Height="{DynamicResource SliderHorizontalThumbHeight}"
                                                                                Margin="0"
                                                                                Padding="0"
                                                                                Background="{DynamicResource SliderThumbBackground}"
                                                                                BorderThickness="0"
                                                                                DataContext="{TemplateBinding Value}"
                                                                                Theme="{StaticResource FluentSliderThumbTheme}" />
                                                                        </Track>
                                                                    </Grid>
                                                                </Grid>
                                                            </Border>
                                                        </DataValidationErrors>
                                                    </ControlTemplate>
                                                </Setter>
                                            </Style>
                                        </Slider.Styles>
                                    </Slider>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock
                                        Margin="5,0,0,0"
                                        VerticalAlignment="Center"
                                        IsEnabled="False"
                                        Text="Zoom Thumbnails:" />
                                    <Slider
                                        x:Name="ZoomSliderThumbnails"
                                        MinWidth="100"
                                        Margin="5,0,0,0"
                                        VerticalAlignment="Center"
                                        IsSnapToTickEnabled="True"
                                        LargeChange="0.5"
                                        Maximum="4.0"
                                        Minimum="0.5"
                                        Orientation="Horizontal"
                                        SmallChange="0.1"
                                        TickFrequency="0.5"
                                        Value="1.0">
                                        <Slider.Styles>
                                            <Style Selector="Slider:horizontal">
                                                <Setter Property="Background" Value="{DynamicResource SliderTrackFill}" />
                                                <Setter Property="BorderThickness" Value="{DynamicResource SliderBorderThemeThickness}" />
                                                <Setter Property="Foreground" Value="{DynamicResource SliderTrackValueFill}" />
                                                <Setter Property="FontSize" Value="{DynamicResource ControlContentThemeFontSize}" />
                                                <Setter Property="Template">
                                                    <ControlTemplate>
                                                        <DataValidationErrors>
                                                            <Border
                                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                                CornerRadius="{TemplateBinding CornerRadius}">
                                                                <Grid
                                                                    x:Name="SliderContainer"
                                                                    Margin="{TemplateBinding Padding}"
                                                                    Background="{DynamicResource SliderContainerBackground}">
                                                                    <Grid
                                                                        x:Name="HorizontalTemplate"
                                                                        MinHeight="{DynamicResource SliderHorizontalHeight}"
                                                                        ColumnDefinitions="Auto,Auto,*">
                                                                        <Track
                                                                            Name="PART_Track"
                                                                            Grid.ColumnSpan="3"
                                                                            IsDirectionReversed="{TemplateBinding IsDirectionReversed}"
                                                                            Maximum="{TemplateBinding Maximum}"
                                                                            Minimum="{TemplateBinding Minimum}"
                                                                            Orientation="Horizontal"
                                                                            Value="{TemplateBinding Value,
                                                                                                    Mode=TwoWay}">
                                                                            <Track.DecreaseButton>
                                                                                <RepeatButton
                                                                                    Name="PART_DecreaseButton"
                                                                                    HorizontalAlignment="Stretch"
                                                                                    VerticalAlignment="Stretch"
                                                                                    Background="{TemplateBinding Foreground}"
                                                                                    Focusable="False">
                                                                                    <RepeatButton.Template>
                                                                                        <ControlTemplate>
                                                                                            <Grid>
                                                                                                <Border
                                                                                                    Name="FocusTarget"
                                                                                                    Margin="0,-10"
                                                                                                    Background="Transparent" />
                                                                                                <Border
                                                                                                    Name="TrackBackground"
                                                                                                    Height="{DynamicResource SliderTrackThemeHeight}"
                                                                                                    VerticalAlignment="Center"
                                                                                                    Background="{TemplateBinding Background}"
                                                                                                    CornerRadius="{DynamicResource ControlCornerRadius}" />
                                                                                            </Grid>
                                                                                        </ControlTemplate>
                                                                                    </RepeatButton.Template>
                                                                                </RepeatButton>
                                                                            </Track.DecreaseButton>
                                                                            <Track.IncreaseButton>
                                                                                <RepeatButton
                                                                                    Name="PART_IncreaseButton"
                                                                                    HorizontalAlignment="Stretch"
                                                                                    VerticalAlignment="Stretch"
                                                                                    Background="{TemplateBinding Background}"
                                                                                    Focusable="False">
                                                                                    <RepeatButton.Template>
                                                                                        <ControlTemplate>
                                                                                            <Grid>
                                                                                                <Border
                                                                                                    Name="FocusTarget"
                                                                                                    Margin="0,-10"
                                                                                                    Background="Transparent" />
                                                                                                <Border
                                                                                                    Name="TrackBackground"
                                                                                                    Height="{DynamicResource SliderTrackThemeHeight}"
                                                                                                    VerticalAlignment="Center"
                                                                                                    Background="{TemplateBinding Background}"
                                                                                                    CornerRadius="{DynamicResource ControlCornerRadius}" />
                                                                                            </Grid>
                                                                                        </ControlTemplate>
                                                                                    </RepeatButton.Template>
                                                                                </RepeatButton>
                                                                            </Track.IncreaseButton>
                                                                            <Thumb
                                                                                Name="thumb"
                                                                                Width="{DynamicResource SliderHorizontalThumbWidth}"
                                                                                Height="{DynamicResource SliderHorizontalThumbHeight}"
                                                                                Margin="0"
                                                                                Padding="0"
                                                                                Background="{DynamicResource SliderThumbBackground}"
                                                                                BorderThickness="0"
                                                                                DataContext="{TemplateBinding Value}"
                                                                                Theme="{StaticResource FluentSliderThumbTheme}" />
                                                                        </Track>
                                                                    </Grid>
                                                                </Grid>
                                                            </Border>
                                                        </DataValidationErrors>
                                                    </ControlTemplate>
                                                </Setter>
                                            </Style>
                                        </Slider.Styles>
                                    </Slider>
                                </StackPanel>
                            </Menu>
                            <Grid
                                x:Name="GridFilter"
                                Grid.Row="1"
                                Margin="5"
                                IsVisible="False"
                                RowDefinitions="*, Auto">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock VerticalAlignment="Center" Text="Path:" />
                                    <TextBox
                                        MinWidth="150"
                                        Margin="5,0,0,0"
                                        Text="{Binding FilterByPath}" />
                                    <TextBlock
                                        Margin="5,0,0,0"
                                        VerticalAlignment="Center"
                                        Text="Sort:" />
                                    <ComboBox
                                        MinWidth="150"
                                        Margin="5,0,0,0"
                                        Items="{Binding SortOrders}"
                                        SelectedItem="{Binding SortOrder}">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding Key}" />
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                    <TextBlock
                                        Margin="5,0,0,0"
                                        VerticalAlignment="Center"
                                        Text="Type:" />
                                    <ComboBox
                                        MinWidth="150"
                                        Margin="5,0,0,0"
                                        Items="{Binding TypeFilters}"
                                        SelectedItem="{Binding FileType}">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding Key}" />
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                </StackPanel>
                                <TextBlock
                                    Grid.Row="1"
                                    Margin="0,5,0,0"
                                    VerticalAlignment="Center"
                                    Foreground="Red"
                                    Text="Note: Filter is only visual. All action also applies to filtered out items!" />
                            </Grid>
                            <LayoutTransformControl Grid.Row="2">
                                <DataGrid
                                    Name="dataGridGrouping"
                                    Grid.Row="2"
                                    Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                                    CanUserResizeColumns="True">
                                    <DataGrid.KeyBindings>
                                        <KeyBinding Command="{Binding RenameFileCommand}" Gesture="F2" />
                                        <KeyBinding Command="{Binding ToggleCheckboxCommand}" Gesture="Space" />
                                        <KeyBinding Command="{Binding OpenItemsByColIdCommand}" Gesture="Enter" />
                                        <KeyBinding Command="{Binding DeleteSelectionWithPromptCommand}" Gesture="Delete" />
                                        <KeyBinding Command="{Binding DeleteSelectionCommand}" Gesture="Shift+Delete" />
                                        <KeyBinding Command="{Binding DeleteHighlitedCommand}" Gesture="Control+Delete" />
                                    </DataGrid.KeyBindings>
                                    <DataGrid.Columns>
                                        <DataGridTemplateColumn>
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <CheckBox IsChecked="{Binding Checked}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Thumbnail">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <LayoutTransformControl>
                                                        <LayoutTransformControl.LayoutTransform>
                                                            <ScaleTransform ScaleX="{Binding ElementName=ZoomSliderThumbnails, Path=Value}" ScaleY="{Binding ElementName=ZoomSliderThumbnails, Path=Value}" />
                                                        </LayoutTransformControl.LayoutTransform>
                                                        <Image
                                                            Name="ThumbnailImage"
                                                            Source="{Binding Thumbnail}"
                                                            Stretch="None">
                                                            <i:Interaction.Behaviors>
                                                                <ia:EventTriggerBehavior EventName="DoubleTapped" SourceObject="{Binding #ThumbnailImage}">
                                                                    <ia:InvokeCommandAction Command="{Binding $parent[DataGrid].DataContext.OpenItemCommand}" CommandParameter="{Binding}" />
                                                                </ia:EventTriggerBehavior>
                                                            </i:Interaction.Behaviors>
                                                            <ToolTip.Tip>
                                                                <Grid>
                                                                    <Border IsVisible="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=ShowEnlargedThumbnailOnMouseHover}">
                                                                        <LayoutTransformControl>
                                                                            <LayoutTransformControl.LayoutTransform>
                                                                                <ScaleTransform ScaleX="3" ScaleY="3" />
                                                                            </LayoutTransformControl.LayoutTransform>
                                                                            <Image Source="{Binding Thumbnail}" />
                                                                        </LayoutTransformControl>
                                                                    </Border>
                                                                    <TextBlock IsVisible="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=!ShowEnlargedThumbnailOnMouseHover}" Text="Double click to open the file in explorer/shell" />
                                                                </Grid>
                                                            </ToolTip.Tip>
                                                        </Image>
                                                    </LayoutTransformControl>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Width="1*" Header="Path">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock
                                                        Margin="10,0,0,0"
                                                        Text="{Binding ItemInfo.Path}"
                                                        TextWrapping="Wrap" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Width="1*">
                                            <DataGridTemplateColumn.Header>
                                                <StackPanel>
                                                    <TextBlock Text="Duration / type" />
                                                    <TextBlock Text="Resolution" />
                                                    <TextBlock Text="Size" />
                                                    <TextBlock Text="Creation Date" />
                                                </StackPanel>
                                            </DataGridTemplateColumn.Header>
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Grid Margin="10,0,0,0">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                        </Grid.RowDefinitions>
                                                        <TextBlock
                                                            Grid.Row="0"
                                                            Margin="2"
                                                            IsVisible="{Binding ItemInfo.IsImage}"
                                                            Text="{Binding ItemInfo.Format, Mode=OneWay}"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Grid.Row="0"
                                                            Margin="2"
                                                            Foreground="{Binding ItemInfo.IsBestDuration, Converter={StaticResource IsBestConverter}}"
                                                            IsVisible="{Binding !ItemInfo.IsImage}"
                                                            Text="{Binding ItemInfo.Duration, StringFormat=\{0:hh\\:mm\\:ss\}}"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Grid.Row="1"
                                                            Margin="2"
                                                            Foreground="{Binding ItemInfo.IsBestFrameSize, Converter={StaticResource IsBestConverter}}"
                                                            Text="{Binding ItemInfo.FrameSize}"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Grid.Row="2"
                                                            Margin="2"
                                                            Foreground="{Binding ItemInfo.IsBestSize, Converter={StaticResource IsBestConverter}}"
                                                            Text="{Binding ItemInfo.Size}"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Grid.Row="3"
                                                            Margin="2"
                                                            Text="{Binding ItemInfo.DateCreated, Converter={StaticResource ExtraShortDateTimeConverter}}"
                                                            TextWrapping="Wrap" />
                                                    </Grid>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Width="1*">
                                            <DataGridTemplateColumn.Header>
                                                <StackPanel>
                                                    <TextBlock Text="Format" />
                                                    <TextBlock Text="Fps" />
                                                    <TextBlock Text="Bit Rate" />
                                                    <TextBlock Text=" " />
                                                </StackPanel>
                                            </DataGridTemplateColumn.Header>
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Grid IsVisible="{Binding !ItemInfo.IsImage}">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                        </Grid.RowDefinitions>
                                                        <TextBlock
                                                            Grid.Row="0"
                                                            Margin="2"
                                                            Text="{Binding ItemInfo.Format, Mode=OneWay}"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Grid.Row="1"
                                                            Margin="2"
                                                            Foreground="{Binding ItemInfo.IsBestFps, Converter={StaticResource IsBestConverter}}"
                                                            Text="{Binding ItemInfo.Fps, Mode=OneWay, StringFormat=\{0\} fps}"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Grid.Row="2"
                                                            Margin="2"
                                                            Foreground="{Binding ItemInfo.IsBestBitRateKbs, Converter={StaticResource IsBestConverter}}"
                                                            Text="{Binding ItemInfo.BitRateKbs, Mode=OneWay, StringFormat=\{0\} kbps}"
                                                            TextWrapping="Wrap" />
                                                    </Grid>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Width="1*">
                                            <DataGridTemplateColumn.Header>
                                                <StackPanel>
                                                    <TextBlock Text="Audio Format" />
                                                    <TextBlock Text="Audio Channel" />
                                                    <TextBlock Text="Audio Sample Rate" />
                                                    <TextBlock Text=" " />
                                                </StackPanel>
                                            </DataGridTemplateColumn.Header>
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Grid IsVisible="{Binding !ItemInfo.IsImage}">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                            <RowDefinition />
                                                        </Grid.RowDefinitions>
                                                        <TextBlock
                                                            Grid.Row="0"
                                                            Margin="2"
                                                            Text="{Binding ItemInfo.AudioFormat}"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Grid.Row="1"
                                                            Margin="2"
                                                            Text="{Binding ItemInfo.AudioChannel}"
                                                            TextWrapping="Wrap" />
                                                        <TextBlock
                                                            Grid.Row="2"
                                                            Margin="2"
                                                            Foreground="{Binding ItemInfo.IsBestAudioSampleRate, Converter={StaticResource IsBestConverter}}"
                                                            Text="{Binding ItemInfo.AudioSampleRate}"
                                                            TextWrapping="Wrap" />
                                                    </Grid>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                        <DataGridTextColumn
                                            Width="1*"
                                            Binding="{Binding ItemInfo.Similarity}"
                                            Header="Similarity" />
                                    </DataGrid.Columns>
                                    <DataGrid.ContextMenu>
                                        <ContextMenu>
                                            <MenuItem Command="{Binding OpenItemInFolderCommand}" Header="Open In Folder" />
                                            <MenuItem
                                                Command="{Binding RenameFileCommand}"
                                                Header="Rename File"
                                                InputGesture="F2" />
                                            <MenuItem>
                                                <MenuItem.Header>
                                                    <StackPanel Orientation="Horizontal">
                                                        <Viewbox Width="16" Height="16">
                                                            <Canvas Width="24" Height="24">
                                                                <Path Data="M2,4C2,2.89 2.9,2 4,2H7V4H4V7H2V4M22,4V7H20V4H17V2H20A2,2 0 0,1 22,4M20,20V17H22V20C22,21.11 21.1,22 20,22H17V20H20M2,20V17H4V20H7V22H4A2,2 0 0,1 2,20M10,2H14V4H10V2M10,20H14V22H10V20M20,10H22V14H20V10M2,10H4V14H2V10Z" Fill="{DynamicResource SystemBaseHighColor}" />
                                                            </Canvas>
                                                        </Viewbox>
                                                        <TextBlock
                                                            Margin="5,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Text="Selected Items" />
                                                    </StackPanel>
                                                </MenuItem.Header>
                                                <MenuItem Command="{Binding DeleteSelectionCommand}" InputGesture="Shift+Delete">
                                                    <MenuItem.Header>
                                                        <StackPanel Orientation="Horizontal">
                                                            <Viewbox Width="16" Height="16">
                                                                <Canvas Width="24" Height="24">
                                                                    <Path Data="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" Fill="Red" />
                                                                </Canvas>
                                                            </Viewbox>
                                                            <TextBlock
                                                                Margin="5,0,0,0"
                                                                VerticalAlignment="Center"
                                                                Text="Delete from disk (to recycle bin if possible)" />
                                                        </StackPanel>
                                                    </MenuItem.Header>
                                                </MenuItem>
                                                <Separator />
                                                <MenuItem Command="{Binding RemoveSelectionFromListCommand}" InputGesture="Delete">
                                                    <MenuItem.Header>
                                                        <StackPanel Orientation="Horizontal">
                                                            <Viewbox Width="16" Height="16">
                                                                <Canvas Width="24" Height="24">
                                                                    <Path Data="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" Fill="Red" />
                                                                </Canvas>
                                                            </Viewbox>
                                                            <TextBlock
                                                                Margin="5,0,0,0"
                                                                VerticalAlignment="Center"
                                                                Text="Remove from list only" />
                                                        </StackPanel>
                                                    </MenuItem.Header>
                                                </MenuItem>
                                                <MenuItem Command="{Binding RemoveSelectionFromListAndBlacklistCommand}">
                                                    <MenuItem.Header>
                                                        <StackPanel Orientation="Horizontal">
                                                            <Viewbox Width="16" Height="16">
                                                                <Canvas Width="24" Height="24">
                                                                    <Path Data="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" Fill="Red" />
                                                                </Canvas>
                                                            </Viewbox>
                                                            <TextBlock
                                                                Margin="5,0,0,0"
                                                                VerticalAlignment="Center"
                                                                Text="Remove from list only and exclude from future scans" />
                                                        </StackPanel>
                                                    </MenuItem.Header>
                                                </MenuItem>
                                                <MenuItem Command="{Binding CreateSymbolLinksForSelectedItemsCommand}" ToolTip.Tip="Links all selected items to the first unselected item in each group.">
                                                    <MenuItem.Header>
                                                        <StackPanel Orientation="Horizontal">
                                                            <Viewbox Width="16" Height="16">
                                                                <Canvas Width="24" Height="24">
                                                                    <Path Data="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" Fill="Red" />
                                                                </Canvas>
                                                            </Viewbox>
                                                            <TextBlock
                                                                Margin="5,0,0,0"
                                                                VerticalAlignment="Center"
                                                                Text="Remove from list only + create symbol links" />
                                                        </StackPanel>
                                                    </MenuItem.Header>
                                                </MenuItem>
                                                <MenuItem Command="{Binding CreateSymbolLinksForSelectedItemsAndBlacklistCommand}" ToolTip.Tip="Links all selected items to the first unselected item in each group.">
                                                    <MenuItem.Header>
                                                        <StackPanel Orientation="Horizontal">
                                                            <Viewbox Width="16" Height="16">
                                                                <Canvas Width="24" Height="24">
                                                                    <Path Data="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" Fill="Red" />
                                                                </Canvas>
                                                            </Viewbox>
                                                            <TextBlock
                                                                Margin="5,0,0,0"
                                                                VerticalAlignment="Center"
                                                                Text="Remove from list only + create symbol links + exclude" />
                                                        </StackPanel>
                                                    </MenuItem.Header>
                                                </MenuItem>
                                                <Separator />
                                                <MenuItem Command="{Binding CopySelectionCommand}" Header="Copy To Folder..." />
                                                <MenuItem Command="{Binding MoveSelectionCommand}" Header="Move To Folder..." />
                                            </MenuItem>
                                            <MenuItem Header="Groups">
                                                <MenuItem Command="{Binding ExpandAllGroupsCommand}" Header="Expand all" />
                                                <MenuItem Command="{Binding CollapseAllGroupsCommand}" Header="Collapse all" />
                                            </MenuItem>
                                            <MenuItem Header="Selected Group">
                                                <MenuItem
                                                    Command="{Binding MarkGroupAsNotAMatchCommand}"
                                                    Header="Mark as 'Not a match'"
                                                    ToolTip.Tip="Hides this group and exclude it from future scans, except when there is a new duplicate." />
                                                <MenuItem
                                                    Command="{Binding OpenGroupCommand}"
                                                    CommandParameter="0"
                                                    Header="Open Group"
                                                    IsVisible="{Binding MultiOpenSupported}" />
                                                <MenuItem
                                                    Command="{Binding OpenGroupCommand}"
                                                    CommandParameter="1"
                                                    Header="Open Group In Folder"
                                                    IsVisible="{Binding MultiOpenInFolderSupported}" />
                                            </MenuItem>
                                        </ContextMenu>
                                    </DataGrid.ContextMenu>
                                </DataGrid>
                                <LayoutTransformControl.LayoutTransform>
                                    <ScaleTransform ScaleX="{Binding ElementName=ZoomSlider, Path=Value}" ScaleY="{Binding ElementName=ZoomSlider, Path=Value}" />
                                </LayoutTransformControl.LayoutTransform>
                            </LayoutTransformControl>
                        </Grid>
                        <Grid
                            Grid.Row="2"
                            IsVisible="{Binding !!Duplicates.Count}"
                            RowDefinitions="Auto, Auto">
                            <StackPanel
                                Grid.Row="0"
                                MinHeight="20"
                                Orientation="Horizontal">
                                <TextBlock Text="{Binding DuplicatesSelectedCounter, Mode=OneWay, StringFormat=Total Selected Duplicates: \{0\}}" />
                            </StackPanel>
                            <StackPanel
                                Grid.Row="1"
                                MinHeight="20"
                                Orientation="Horizontal">
                                <TextBlock Text="{Binding Duplicates.Count, Mode=OneWay, StringFormat=Duplicates In List: \{0\}}" />
                                <Separator Width="1" Margin="5" />
                                <TextBlock Text="{Binding TotalDuplicates, Mode=OneWay, StringFormat=Total Duplicates: \{0\}}" />
                                <Separator Width="1" Margin="5" />
                                <TextBlock Text="{Binding TotalDuplicateGroups, Mode=OneWay, StringFormat=Total Duplicate Groups: \{0\}}" />
                                <Separator Width="1" Margin="5" />
                                <TextBlock Text="{Binding TotalDuplicatesSize, Mode=OneWay, StringFormat=Total Size: \{0\}}" />
                                <Separator Width="1" Margin="5" />
                                <TextBlock Text="{Binding TotalSizeRemoved, Mode=OneWay, StringFormat=Total Size Removed: \{0\}}" />
                            </StackPanel>
                        </Grid>
                        <Grid Grid.Row="3">
                            <StackPanel MinHeight="20" Orientation="Horizontal">
                                <ProgressBar
                                    Name="PbScanProgress"
                                    MinWidth="100"
                                    Maximum="{Binding ScanProgressMaxValue, Mode=OneWay}"
                                    Value="{Binding ScanProgressValue, Mode=OneWay}" />
                                <Separator Width="1" Margin="5" />
                                <TextBlock Text="{Binding TimeElapsed, Mode=OneWay, StringFormat=Elapsed time: \{0:hh\}:\{0:mm\}:\{0:ss\}}" />
                                <Separator Width="1" Margin="5" />
                                <TextBlock Text="{Binding RemainingTime, Mode=OneWay, StringFormat=Remaining time: ~\{0:hh\}:\{0:mm\}:\{0:ss\}}" />
                                <Separator Width="1" Margin="5" />
                                <TextBlock Text="{Binding ScanProgressText, Mode=OneWay}" />
                            </StackPanel>
                        </Grid>
                    </Grid>
                </TabItem>
                <TabItem Name="TabItemSettings">
                    <TabItem.Header>
                        <TextBlock
                            VerticalAlignment="Center"
                            FontSize="12"
                            Text="Settings" />
                    </TabItem.Header>
                    <Grid
                        Margin="0,0,0,10"
                        Background="{DynamicResource SystemControlBackgroundChromeMediumLowBrush}"
                        RowDefinitions="Auto, *">
                        <Menu Grid.Row="0" MinHeight="30">
                            <MenuItem Command="{Binding SaveSettingsProfileCommand}">
                                <MenuItem.Header>
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox Width="20" Height="20">
                                            <Canvas Width="16" Height="16">
                                                <Path Data="M11.04 1.33L12.71 3l.29.71v.33h-.5l-.5.5v-.83l-1.67-1.67H10v4H4v-4H2v10h3l-.5 1H2l-1-1v-10l1-1h8.33l.71.29zM7 5h2V2H7v3zm6.5 0L15 6.5l-.02.69-5.5 5.5-.13.12-.37.37-.1.09-3 1.5-.67-.67 1.5-3 .09-.1.37-.37.12-.13 5.5-5.5h.71zm-6.22 7.24l-.52 1 1.04-.48-.52-.52zm.69-1.03l.79.79 5.15-5.15-.79-.79-5.15 5.15z" Fill="{DynamicResource SystemControlForegroundBaseHighBrush}" />
                                            </Canvas>
                                        </Viewbox>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Save To File" />
                                    </StackPanel>
                                </MenuItem.Header>
                            </MenuItem>
                            <MenuItem Command="{Binding LoadSettingsProfileCommand}">
                                <MenuItem.Header>
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox Width="20" Height="20">
                                            <Canvas Width="16" Height="16">
                                                <Path Data="M1.5 14h11l.48-.37 2.63-7-.48-.63H14V3.5l-.5-.5H7.71l-.86-.85L6.5 2h-5l-.5.5v11l.5.5zM2 3h4.29l.86.85.35.15H13v2H8.5l-.35.15-.86.85H3.5l-.47.34-1 3.08L2 3zm10.13 10H2.19l1.67-5H7.5l.35-.15.86-.85h5.79l-2.37 6z" Fill="{DynamicResource SystemControlForegroundBaseHighBrush}" />
                                            </Canvas>
                                        </Viewbox>
                                        <TextBlock
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="Load From File" />
                                    </StackPanel>
                                </MenuItem.Header>
                            </MenuItem>
                        </Menu>
                        <TabControl Grid.Row="1">
                            <TabItem x:Name="TabItemSettingsMisc">
                                <TabItem.Header>
                                    <TextBlock
                                        VerticalAlignment="Center"
                                        FontSize="12"
                                        Text="Misc" />
                                </TabItem.Header>
                                <ScrollViewer>
                                    <Grid IsEnabled="{Binding !IsScanning}" RowDefinitions="Auto, *">
                                        <Grid Grid.Row="0" ColumnDefinitions="Auto, Auto, *">
                                            <StackPanel Margin="5,5,0,0">
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Ignore Read Only Folders"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=IgnoreReadOnlyFolders}"
                                                    IsThreeState="False" />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Include Sub Directories"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=IncludeSubDirectories}"
                                                    IsThreeState="False" />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Include Images"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=IncludeImages}"
                                                    IsThreeState="False" />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Generate Preview Images"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=GeneratePreviewThumbnails}"
                                                    IsThreeState="False"
                                                    ToolTip.Tip="Deactivate to save memory by disabling preview images of duplicates" />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Exclude Reparse Points"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=IgnoreReparsePoints}"
                                                    IsThreeState="False" />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Extended FFTools Logging"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=ExtendedFFToolsLogging}"
                                                    IsThreeState="False"
                                                    ToolTip.Tip="If activated ffmpeg and ffprobe errors will be written to the log" />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Always retry failed sampling"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=AlwaysRetryFailedSampling}"
                                                    IsThreeState="False"
                                                    ToolTip.Tip="If activated scan engine will try to generate thumbprints of failed entries each time it is run. Otherwise consecutive attempt will be taken only after cleanup of the database." />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Auto backup scan results"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=BackupAfterListChanged}"
                                                    IsThreeState="False"
                                                    ToolTip.Tip="If activated a backup gets created each time the scan results list gets changed" />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Use native Ffmpeg binding"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=UseNativeFfmpegBinding}"
                                                    IsThreeState="False"
                                                    ToolTip.Tip="If activated it will call ffmpeg functions natively instead of spawning a new ffmpeg.exe process. This is MUCH(!!) faster. WARNING: You must use the latest SHARED and STABLE ffmpeg version. If something goes wrong then whole VDF will crash." />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Ignore Black Pixels"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=IgnoreBlackPixels}"
                                                    IsThreeState="False"
                                                    ToolTip.Tip="Skip black pixels when comparing thumbnails. Lowers the chance for 'false positives' if thumbnails contain too much dark and raises the chance to detect duplicates if one of the thumbnails have black bars and the others not. In rare scenarios this might raise the 'false positives' instead. Slows down the scan speed by a bit." />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Ignore White Pixels"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=IgnoreWhitePixels}"
                                                    IsThreeState="False"
                                                    ToolTip.Tip="Skip white pixels when comparing thumbnails. Lowers the chance for 'false positives' if thumbnails contain too much brightness and raises the chance to detect duplicates if one of the thumbnails have white bars and the others not. In rare scenarios this might raise the 'false positives' instead. Slows down the scan speed by a bit." />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Show Enlarged Thumbnail On Mouse Hover"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=ShowEnlargedThumbnailOnMouseHover}"
                                                    IsThreeState="False"
                                                    ToolTip.Tip="Shows a larger version of the thumbnail on mouse hover" />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Compare Horizontally Flipped"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=CompareHorizontallyFlipped}"
                                                    IsThreeState="False"
                                                    ToolTip.Tip="Select this option if your video collection might contain horizontally flipped videos and you want them to be detected reliably. Slows down the scan speed by a bit." />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Save results on exit"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=AskToSaveResultsOnExit}"
                                                    IsThreeState="False"
                                                    ToolTip.Tip="If checked you will be asked if you want to save the results when you close VDF" />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Scan against non-existing files"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=IncludeNonExistingFiles}"
                                                    IsThreeState="False"
                                                    ToolTip.Tip="If checked non-existing files which have all necessary information are included" />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Scan against entire database"
                                                    IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=ScanAgainstEntireDatabase}"
                                                    IsThreeState="False"
                                                    ToolTip.Tip="If checked scan is also performed against your entire database unless database files are excluded otherwise (i.e. exclude list, file path must contain, etc)" />
                                            </StackPanel>
                                            <StackPanel Grid.Column="1" Margin="15,5,0,0">
                                                <TextBlock
                                                    VerticalAlignment="Center"
                                                    Text="Percent:"
                                                    ToolTip.Tip="Minimum percentage that thumbnails must match before they are considered duplicates" />
                                                <NumericUpDown
                                                    Width="200"
                                                    Height="26"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    Maximum="100"
                                                    Minimum="1"
                                                    ToolTip.Tip="Minimum percentage that thumbnails must match before they are considered duplicates"
                                                    Value="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=Percent}" />
                                                <TextBlock
                                                    VerticalAlignment="Center"
                                                    Text="Duration Difference in %:"
                                                    ToolTip.Tip="Only scan videos against each other where the duration is not bigger/smaller than X %" />
                                                <NumericUpDown
                                                    Width="200"
                                                    Height="26"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    Maximum="100"
                                                    Minimum="0"
                                                    ToolTip.Tip="Only scan videos against each other where the duration is not bigger/smaller than X %"
                                                    Value="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=PercentDurationDifference}" />
                                                <TextBlock
                                                    Margin="0,5,0,0"
                                                    VerticalAlignment="Center"
                                                    Text="Thumbnails:"
                                                    ToolTip.Tip="Number of thumbnails generated per file. This only applies to video files. A high number means that the scan takes longer but also the chance of a 'false positive' decreases." />
                                                <NumericUpDown
                                                    Width="200"
                                                    Height="26"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    Maximum="100"
                                                    Minimum="1"
                                                    ToolTip.Tip="Number of thumbnails generated per file. This only applies to video files. A high number means that the scan takes longer but also the chance of a 'false positive' decreases."
                                                    ValueChanged="Thumbnails_ValueChanged"
                                                    Value="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=Thumbnails}" />
                                                <TextBlock
                                                    Margin="0,5,0,0"
                                                    VerticalAlignment="Center"
                                                    Text="Max Degree Of Parallelism:"
                                                    ToolTip.Tip="Limits the amount of concurrent tasks. A value of -1 leaves it up to the system to decide, a value of 1 is most stable." />
                                                <NumericUpDown
                                                    Width="200"
                                                    Height="26"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    Maximum="100"
                                                    Minimum="-1"
                                                    ToolTip.Tip="Limits the amount of concurrent tasks. A value of -1 leaves it up to the system to decide, a value of 1 is most stable."
                                                    Value="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=MaxDegreeOfParallelism}" />
                                                <TextBlock
                                                    VerticalAlignment="Center"
                                                    Text="Custom FF Arguments:"
                                                    ToolTip.Tip="FF(mpeg/probe) arguments passed to the end of the internal arguments. Most users can leave this empty." />
                                                <TextBox
                                                    VerticalAlignment="Center"
                                                    Text="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=CustomFFArguments}"
                                                    ToolTip.Tip="FF(mpeg/probe) arguments passed to the end of the internal arguments. Most users can leave this empty." />
                                                <TextBlock
                                                    VerticalAlignment="Center"
                                                    FontSize="14"
                                                    Text="Hardware Acceleration:"
                                                    ToolTip.Tip="Hardware acceleration mode of ffmpeg" />
                                                <ComboBox
                                                    x:Name="ComboboxHardwareAccelerationMode"
                                                    VerticalAlignment="Center"
                                                    Items="{Binding HardwareAccelerationModes}"
                                                    SelectedItem="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=HardwareAccelerationMode}"
                                                    ToolTip.Tip="Hardware acceleration mode of ffmpeg" />
                                                <TextBlock
                                                    VerticalAlignment="Center"
                                                    FontSize="14"
                                                    Text="Custom Commands:"
                                                    ToolTip.Tip="Enter your own commands to open single or multiple files." />
                                                <ComboBox
                                                    Width="200"
                                                    VerticalAlignment="Center"
                                                    Items="{Binding CustomCommandList}"
                                                    SelectedItem="{Binding SelectedCustomCommand}"
                                                    ToolTip.Tip="Enter your own commands to open single or multiple files." />
                                                <TextBox
                                                    VerticalAlignment="Center"
                                                    Text="{Binding SelectedCustomCommandValue}"
                                                    ToolTip.Tip="E.g.: 'nemo --tabs %f', where '%f' is the placeholder for the file(s)" />
                                                <TextBlock
                                                    VerticalAlignment="Center"
                                                    FontSize="14"
                                                    Text="Custom Database Folder:"
                                                    ToolTip.Tip="Specify a custom database folder. Otherwise it uses the current VDF folder." />
                                                <TextBox
                                                    VerticalAlignment="Center"
                                                    Text="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=CustomDatabaseFolder}"
                                                    ToolTip.Tip="Specify a custom database folder. Otherwise it uses the current VDF folder." />
                                            </StackPanel>
                                        </Grid>
                                        <Grid
                                            Grid.Row="1"
                                            Margin="0,10,5,0"
                                            ColumnDefinitions="*, *"
                                            RowDefinitions="Auto, 300">
                                            <TextBlock
                                                Margin="5,0,0,2"
                                                FontWeight="Bold"
                                                Text="Search Directories" />
                                            <Grid Grid.Row="1" RowDefinitions="Auto, *">
                                                <Menu Grid.Row="0" MinHeight="30">
                                                    <MenuItem Command="{Binding AddIncludesToListCommand}">
                                                        <MenuItem.Header>
                                                            <StackPanel Orientation="Horizontal">
                                                                <Viewbox Width="16" Height="16">
                                                                    <Canvas Width="24" Height="24">
                                                                        <Path Data="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" Fill="LimeGreen" />
                                                                    </Canvas>
                                                                </Viewbox>
                                                                <TextBlock
                                                                    Margin="5,0,0,0"
                                                                    VerticalAlignment="Center"
                                                                    Text="Add" />
                                                            </StackPanel>
                                                        </MenuItem.Header>
                                                    </MenuItem>
                                                    <MenuItem Command="{Binding RemoveIncludesFromListCommand}" CommandParameter="{Binding ElementName=ListboxIncludelist}">
                                                        <MenuItem.Header>
                                                            <StackPanel Orientation="Horizontal">
                                                                <Viewbox Width="16" Height="16">
                                                                    <Canvas Width="24" Height="24">
                                                                        <Path Data="M19,13H5V11H19V13Z" Fill="Red" />
                                                                    </Canvas>
                                                                </Viewbox>
                                                                <TextBlock
                                                                    Margin="5,0,0,0"
                                                                    VerticalAlignment="Center"
                                                                    Text="Remove" />
                                                            </StackPanel>
                                                        </MenuItem.Header>
                                                    </MenuItem>
                                                </Menu>
                                                <ListBox
                                                    Name="ListboxIncludelist"
                                                    Grid.Row="1"
                                                    BorderThickness="1"
                                                    DragDrop.AllowDrop="True"
                                                    Items="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=Includes}" />
                                            </Grid>
                                            <TextBlock
                                                Grid.Row="0"
                                                Grid.Column="1"
                                                Margin="15,0,0,2"
                                                FontWeight="Bold"
                                                Text="Exclude Directories" />
                                            <Grid
                                                Grid.Row="1"
                                                Grid.Column="1"
                                                Margin="10,0,0,0"
                                                RowDefinitions="Auto, *">
                                                <Menu Grid.Row="0" MinHeight="30">
                                                    <MenuItem Command="{Binding AddBlacklistToListCommand}">
                                                        <MenuItem.Header>
                                                            <StackPanel Orientation="Horizontal">
                                                                <Viewbox Width="16" Height="16">
                                                                    <Canvas Width="24" Height="24">
                                                                        <Path Data="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" Fill="LimeGreen" />
                                                                    </Canvas>
                                                                </Viewbox>
                                                                <TextBlock
                                                                    Margin="5,0,0,0"
                                                                    VerticalAlignment="Center"
                                                                    Text="Add" />
                                                            </StackPanel>
                                                        </MenuItem.Header>
                                                    </MenuItem>
                                                    <MenuItem Command="{Binding RemoveBlacklistFromListCommand}" CommandParameter="{Binding ElementName=ListboxBlacklist}">
                                                        <MenuItem.Header>
                                                            <StackPanel Orientation="Horizontal">
                                                                <Viewbox Width="16" Height="16">
                                                                    <Canvas Width="24" Height="24">
                                                                        <Path Data="M19,13H5V11H19V13Z" Fill="Red" />
                                                                    </Canvas>
                                                                </Viewbox>
                                                                <TextBlock
                                                                    Margin="5,0,0,0"
                                                                    VerticalAlignment="Center"
                                                                    Text="Remove" />
                                                            </StackPanel>
                                                        </MenuItem.Header>
                                                    </MenuItem>
                                                </Menu>
                                                <ListBox
                                                    Name="ListboxBlacklist"
                                                    Grid.Row="1"
                                                    BorderThickness="1"
                                                    DragDrop.AllowDrop="True"
                                                    Items="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=Blacklists}" />
                                            </Grid>
                                        </Grid>
                                    </Grid>
                                </ScrollViewer>
                            </TabItem>
                            <TabItem x:Name="TabItemSettingsFiles">
                                <TabItem.Header>
                                    <TextBlock
                                        VerticalAlignment="Center"
                                        FontSize="12"
                                        Text="Files" />
                                </TabItem.Header>
                                <Grid
                                    ColumnDefinitions="Auto, Auto, Auto, Auto, *"
                                    IsEnabled="{Binding !IsScanning}"
                                    RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,*">
                                    <CheckBox
                                        x:Name="CheckboxFilterByFileSize"
                                        Grid.Row="0"
                                        Grid.Column="0"
                                        VerticalAlignment="Center"
                                        Content="File Size (MB):"
                                        IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=FilterByFileSize}"
                                        IsThreeState="False" />
                                    <NumericUpDown
                                        Grid.Row="0"
                                        Grid.Column="1"
                                        Width="200"
                                        Height="26"
                                        Margin="10,0"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        IsEnabled="{Binding #CheckboxFilterByFileSize.IsChecked}"
                                        Minimum="0"
                                        Value="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=MinimumFileSize}" />
                                    <TextBlock
                                        Grid.Row="0"
                                        Grid.Column="2"
                                        Margin="10,0"
                                        VerticalAlignment="Center"
                                        Text="to" />
                                    <NumericUpDown
                                        Grid.Row="0"
                                        Grid.Column="3"
                                        Width="200"
                                        Height="26"
                                        Margin="10,0"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        IsEnabled="{Binding #CheckboxFilterByFileSize.IsChecked}"
                                        Minimum="0"
                                        Value="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=MaximumFileSize}" />
                                    <CheckBox
                                        x:Name="CheckboxFilterByFilePathContains"
                                        Grid.Row="1"
                                        Grid.Column="0"
                                        VerticalAlignment="Top"
                                        Content="File Path contains:"
                                        IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=FilterByFilePathContains}"
                                        IsThreeState="False" />
                                    <Grid
                                        Grid.Row="1"
                                        Grid.Column="1"
                                        Grid.ColumnSpan="3"
                                        RowDefinitions="Auto, *, Auto">
                                        <Menu
                                            Grid.Row="0"
                                            MinHeight="30"
                                            IsEnabled="{Binding #CheckboxFilterByFilePathContains.IsChecked}">
                                            <MenuItem Command="{Binding AddFilePathContainsTextToListCommand}">
                                                <MenuItem.Header>
                                                    <StackPanel Orientation="Horizontal">
                                                        <Viewbox Width="16" Height="16">
                                                            <Canvas Width="24" Height="24">
                                                                <Path Data="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" Fill="Green" />
                                                            </Canvas>
                                                        </Viewbox>
                                                        <TextBlock
                                                            Margin="5,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Text="Add" />
                                                    </StackPanel>
                                                </MenuItem.Header>
                                            </MenuItem>
                                            <MenuItem Command="{Binding RemoveFilePathContainsTextFromListCommand}" CommandParameter="{Binding ElementName=ListboxFilePathContainsText}">
                                                <MenuItem.Header>
                                                    <StackPanel Orientation="Horizontal">
                                                        <Viewbox Width="16" Height="16">
                                                            <Canvas Width="24" Height="24">
                                                                <Path Data="M19,13H5V11H19V13Z" Fill="Red" />
                                                            </Canvas>
                                                        </Viewbox>
                                                        <TextBlock
                                                            Margin="5,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Text="Remove" />
                                                    </StackPanel>
                                                </MenuItem.Header>
                                            </MenuItem>
                                        </Menu>
                                        <ListBox
                                            Name="ListboxFilePathContainsText"
                                            Grid.Row="1"
                                            MinHeight="70"
                                            IsEnabled="{Binding #CheckboxFilterByFilePathContains.IsChecked}"
                                            Items="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=FilePathContainsTexts}" />
                                        <TextBlock Grid.Row="2" Text="Note: Supports the following wildcards: '*' and '?'. The backslash character '\' escapes." />
                                    </Grid>
                                    <!--<TextBox
                                        Text="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=FilePathContainsText}"
                                        Margin="10,5"
                                        IsEnabled="{Binding #CheckboxFilterByFilePathContains.IsChecked}"
                                        Watermark="Supports the following wildcards: '*' and '?'. The backslash character '\' escapes."
                                        UseFloatingWatermark="True"
                                        Grid.Row="1"
                                        Grid.Column="1"
                                        Grid.ColumnSpan="3"/>-->
                                    <CheckBox
                                        x:Name="CheckboxFilterByFilePathNotContains"
                                        Grid.Row="2"
                                        Grid.Column="0"
                                        VerticalAlignment="Top"
                                        Content="File Path does NOT contain:"
                                        IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=FilterByFilePathNotContains}"
                                        IsThreeState="False" />
                                    <Grid
                                        Grid.Row="2"
                                        Grid.Column="1"
                                        Grid.ColumnSpan="3"
                                        RowDefinitions="Auto, *, Auto">
                                        <Menu
                                            Grid.Row="0"
                                            MinHeight="30"
                                            IsEnabled="{Binding #CheckboxFilterByFilePathNotContains.IsChecked}">
                                            <MenuItem Command="{Binding AddFilePathNotContainsTextToListCommand}">
                                                <MenuItem.Header>
                                                    <StackPanel Orientation="Horizontal">
                                                        <Viewbox Width="16" Height="16">
                                                            <Canvas Width="24" Height="24">
                                                                <Path Data="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" Fill="Green" />
                                                            </Canvas>
                                                        </Viewbox>
                                                        <TextBlock
                                                            Margin="5,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Text="Add" />
                                                    </StackPanel>
                                                </MenuItem.Header>
                                            </MenuItem>
                                            <MenuItem Command="{Binding RemoveFilePathNotContainsTextFromListCommand}" CommandParameter="{Binding ElementName=ListboxFilePathNotContainsText}">
                                                <MenuItem.Header>
                                                    <StackPanel Orientation="Horizontal">
                                                        <Viewbox Width="16" Height="16">
                                                            <Canvas Width="24" Height="24">
                                                                <Path Data="M19,13H5V11H19V13Z" Fill="Red" />
                                                            </Canvas>
                                                        </Viewbox>
                                                        <TextBlock
                                                            Margin="5,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Text="Remove" />
                                                    </StackPanel>
                                                </MenuItem.Header>
                                            </MenuItem>
                                        </Menu>
                                        <ListBox
                                            Name="ListboxFilePathNotContainsText"
                                            Grid.Row="1"
                                            MinHeight="70"
                                            IsEnabled="{Binding #CheckboxFilterByFilePathNotContains.IsChecked}"
                                            Items="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=FilePathNotContainsTexts}" />
                                        <TextBlock Grid.Row="2" Text="Note: Supports the following wildcards: '*' and '?'. The backslash character '\' escapes." />
                                    </Grid>
                                    <!--<TextBox
                                        Grid.Row="2"
                                        Grid.Column="1"
                                        Grid.ColumnSpan="3"
                                        Margin="10,5"
                                        IsEnabled="{Binding #CheckboxFilterByFilePathNotContains.IsChecked}"
                                        Text="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=FilePathNotContainsText}"
                                        UseFloatingWatermark="True"
                                        Watermark="Supports the following wildcards: '*' and '?'. The backslash character '\' escapes." />-->
                                </Grid>
                            </TabItem>
                            <TabItem>
                                <TabItem.Header>
                                    <TextBlock
                                        VerticalAlignment="Center"
                                        FontSize="12"
                                        Text="Appearance" />
                                </TabItem.Header>
                                <Grid RowDefinitions="Auto,Auto,Auto,*">
                                    <CheckBox
                                        Grid.Row="0"
                                        VerticalAlignment="Center"
                                        Content="Use Mica (Windows 11 only)"
                                        IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=UseMica}"
                                        IsThreeState="False" />
                                    <CheckBox
                                        Grid.Row="1"
                                        VerticalAlignment="Center"
                                        Content="Dark Mode"
                                        IsChecked="{Binding Source={x:Static Settings:SettingsFile.Instance}, Path=DarkMode}"
                                        IsThreeState="False" />
                                    <TextBlock
                                        Grid.Row="2"
                                        Margin="0,5,0,0"
                                        VerticalAlignment="Center"
                                        Text="Restart VDF to apply changes" />
                                </Grid>
                            </TabItem>
                        </TabControl>
                    </Grid>
                </TabItem>
                <TabItem Name="TabItemLog">
                    <TabItem.Header>
                        <TextBlock
                            VerticalAlignment="Center"
                            FontSize="12"
                            Text="Log" />
                    </TabItem.Header>
                    <Grid Margin="0,0,0,10" Background="{DynamicResource SystemControlBackgroundChromeMediumLowBrush}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition />
                        </Grid.RowDefinitions>

                        <Menu Grid.Row="0" MinHeight="30">
                            <MenuItem Command="{Binding ClearLogCommand}">
                                <MenuItem.Header>
                                    <TextBlock VerticalAlignment="Center" Text="Clear Log" />
                                </MenuItem.Header>
                            </MenuItem>
                            <MenuItem Command="{Binding SaveLogCommand}">
                                <MenuItem.Header>
                                    <TextBlock VerticalAlignment="Center" Text="Save Log To File" />
                                </MenuItem.Header>
                            </MenuItem>
                        </Menu>
                        <ListBox
                            Grid.Row="1"
                            MinHeight="70"
                            Margin="5"
                            Items="{Binding LogItems}"
                            ScrollViewer.HorizontalScrollBarVisibility="Visible" />
                    </Grid>
                </TabItem>
            </TabControl>
            <Grid
                x:Name="BusyIndicator"
                Background="Silver"
                IsVisible="{Binding IsBusy}"
                Opacity="0.8">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <ProgressBar
                        Height="10"
                        MaxWidth="200"
                        BorderBrush="LimeGreen"
                        BorderThickness="1"
                        IsIndeterminate="{Binding IsBusy}" />
                    <TextBlock
                        Margin="0,10,0,0"
                        HorizontalAlignment="Center"
                        FontSize="14"
                        FontWeight="ExtraBold"
                        Text="Please Wait" />
                    <TextBlock
                        Name="LblBusyIndicator"
                        Margin="0,10,0,0"
                        HorizontalAlignment="Center"
                        FontSize="14"
                        Text="{Binding IsBusyText}" />
                </StackPanel>
            </Grid>
        </Grid>
    </Grid>



</Window>
